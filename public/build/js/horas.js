!function(){if(document.querySelector("#horas")){let o={fecha:""};const c=document.querySelectorAll('[name="fecha"]'),t=document.querySelector('[name="horaId"]');function a(a){o[a.target.name]=a.target.value,t.value="";const c=document.querySelector(".horas__hora--seleccionada");c&&c.classList.remove("horas__hora--seleccionada"),Object.values(o).includes("")||async function(){const{fecha:a}=o,c="/api/citas-horas?fecha="+a,t=await fetch(c);!function(a){const o=document.querySelectorAll("#horas li");o.forEach(a=>a.classList.add("horas__hora--desabilitada"));const c=a.map(a=>a.horaId),t=Array.from(o);t.filter(a=>!c.includes(a.dataset.horaId)).forEach(a=>a.classList.remove("horas__hora--desabilitada"));document.querySelectorAll("#horas li:not(.horas__hora--desabilitada)").forEach(a=>a.addEventListener("click",e))}(await t.json())}()}function e(a){const e=document.querySelector(".horas__hora--seleccionada");e&&e.classList.remove("horas__hora--seleccionada"),a.target.classList.add("horas__hora--seleccionada"),t.value=a.target.dataset.horaId}c.forEach(e=>e.addEventListener("change",a))}}();